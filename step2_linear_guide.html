<!DOCTYPE html>
<html lang="en">
    <script src="functions.js"></script>
    <script src="oocsi_lib.js"></script>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>step 2</title>
</head>
<script>
    let pressCountIndu2 = 0; //give variable a starting number

    function buttonPressCounting (message) { // read when OOCSi send message. count how many times button is pressed on the induvidal phones
       if (message.data.command == "+1") {
        pressCountIndu2 ++;
        console.log(pressCountIndu2);
        document.getElementById("pressCount").innerHTML = pressCountIndu2;
    } 
    }

    function onLoadPage () {
        makeConnection(buttonPressCounting); // OOCSI connection and sending valus of button press counting
    }
    window.onload = onLoadPage;

    function go2step3Guide() {
        window.location.href = "step3_winfail_guide.html";
    }
    
    function go2step3Indu() {
    OOCSI.send(nameOfChannel, {'command': "switch2"});
    console.log ("did it send?");
}
function sent2OOCSIandGo2Step3() {
    go2step3Indu();
    go2step3Guide();
}
    
</script>
<body>
    <img src="images\workshop cards-01.png" alt="press button image">
    <p>Pressed buttons:</p>
    <p id="pressCount">0</p>
    <button onclick="sent2OOCSIandGo2Step3()">Bring me to the next step!</button> 
    <!-- between " " for JS in HTML only for onclick, inline handeler  -->
</body>
</html>